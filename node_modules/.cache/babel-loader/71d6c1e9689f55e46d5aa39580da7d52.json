{"ast":null,"code":"import _regeneratorRuntime from\"/home/admi/Table/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/admi/Table/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/admi/Table/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/admi/Table/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/admi/Table/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/home/admi/Table/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject6(){var data=_taggedTemplateLiteral([\"\\ncolor: green;\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\ncolor: red;\\ngrid-area: 5/1/6/3;\\nmargin: auto;\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\npadding: 10px;\\nborder-radius: 50px; \\nborder: 1px solid grey;\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\ngrid-area: 4/1/5/3;\\nwidth: 100px;\\nmargin:auto;\\ncolor: #388f38;\\nborder: none;\\npadding: 10px;\\nborder-radius: 30px;\\nfont-weight: bold;\\nbackground-color: #ddcfcf;\\nbox-shadow: 3px 2px grey;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\nborder: 1px solid grey;\\ndisplay: grid;\\ngrid-template-columns: 150px 300px;\\ngrid-row-gap: 20px;\\npadding: 20px;\\nwidth: 500px;\\nmargin:100px auto;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\nmargin-top: 50px;\\ntext-align: center;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState}from'react';import{Redirect}from'react-router-dom';import styled from'styled-components';var Heading=styled.h1(_templateObject());var Form=styled.form(_templateObject2());var Button=styled.button(_templateObject3());var Input=styled.input(_templateObject4());var Response=styled.p(_templateObject5());var Success=styled(Response)(_templateObject6());function SignUp(){var isLoggedIn=window.localStorage.getItem('session');var active;if(isLoggedIn)active=true;var _useState=useState({name:'',email:'',pswd:''}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),submitRes=_useState4[0],setSubmitRes=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),success=_useState6[0],setSuccess=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isRedirect=_useState8[0],setRedirect=_useState8[1];var handleInput=function handleInput(e){e.persist();setSubmitRes('');setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},e.target.name,e.target.value)));};var createAcc=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url,data){var response,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return window.fetch(url,{method:'Post',body:JSON.stringify(data),headers:{'Content-Type':'application/json'}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:result=_context.sent;if(result.response){setSubmitRes(result);setSuccess('');}if(result.res){setSuccess(result);setTimeout(function(){return setRedirect(true);},1000);setSubmitRes('');}case 8:case\"end\":return _context.stop();}}},_callee);}));return function createAcc(_x,_x2){return _ref.apply(this,arguments);};}();var handleSubmit=function handleSubmit(e){e.preventDefault();var obj={username:values.name,email:values.email,password:values.pswd};createAcc('http://localhost:5000/createAcc',obj);setValues({name:'',email:'',pswd:''});};return/*#__PURE__*/React.createElement(React.Fragment,null,active?/*#__PURE__*/React.createElement(Redirect,{to:\"/app\"}):/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(Heading,null,\"Sign Up\")),/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(Form,{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"UserName :\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",placeholder:\"Enter your name\",name:\"name\",id:\"name\",required:true,value:values.name,onChange:handleInput}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email :\"),/*#__PURE__*/React.createElement(Input,{type:\"email\",placeholder:\"Enter your email\",name:\"email\",id:\"email\",required:true,value:values.email,onChange:handleInput}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"pswd\"},\"Password :\"),/*#__PURE__*/React.createElement(Input,{type:\"password\",placeholder:\"Enter Password\",name:\"pswd\",id:\"pswd\",required:true,value:values.pswd,onChange:handleInput}),/*#__PURE__*/React.createElement(Button,null,\"Submit\"),submitRes&&/*#__PURE__*/React.createElement(Response,null,submitRes.response),success&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Success,null,success.res),isRedirect&&/*#__PURE__*/React.createElement(Redirect,{to:\"/login\"}))))));}export default SignUp;","map":{"version":3,"sources":["/home/admi/Table/src/SignUp.js"],"names":["React","useState","Redirect","styled","Heading","h1","Form","form","Button","button","Input","input","Response","p","Success","SignUp","isLoggedIn","window","localStorage","getItem","active","name","email","pswd","values","setValues","submitRes","setSubmitRes","success","setSuccess","isRedirect","setRedirect","handleInput","e","persist","target","value","createAcc","url","data","fetch","method","body","JSON","stringify","headers","response","json","result","res","setTimeout","handleSubmit","preventDefault","obj","username","password"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport styled from 'styled-components'\n\nconst Heading = styled.h1`\nmargin-top: 50px;\ntext-align: center;\n`\nconst Form = styled.form`\nborder: 1px solid grey;\ndisplay: grid;\ngrid-template-columns: 150px 300px;\ngrid-row-gap: 20px;\npadding: 20px;\nwidth: 500px;\nmargin:100px auto;\n`\nconst Button = styled.button`\ngrid-area: 4/1/5/3;\nwidth: 100px;\nmargin:auto;\ncolor: #388f38;\nborder: none;\npadding: 10px;\nborder-radius: 30px;\nfont-weight: bold;\nbackground-color: #ddcfcf;\nbox-shadow: 3px 2px grey;\n`\nconst Input = styled.input`\npadding: 10px;\nborder-radius: 50px; \nborder: 1px solid grey;\n`\nconst Response = styled.p`\ncolor: red;\ngrid-area: 5/1/6/3;\nmargin: auto;\n`\nconst Success = styled(Response)`\ncolor: green;\n`\nfunction SignUp () {\n  const isLoggedIn = window.localStorage.getItem('session')\n  let active\n  if (isLoggedIn) active = true\n\n  const [values, setValues] = useState({\n    name: '',\n    email: '',\n    pswd: ''\n  })\n  const [submitRes, setSubmitRes] = useState('')\n  const [success, setSuccess] = useState('')\n  const [isRedirect, setRedirect] = useState(false)\n\n  const handleInput = e => {\n    e.persist()\n    setSubmitRes('')\n    setValues({ ...values, [e.target.name]: e.target.value })\n  }\n\n  const createAcc = async (url, data) => {\n    const response = await window.fetch(url, {\n      method: 'Post',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n    const result = await response.json()\n    if (result.response) {\n      setSubmitRes(result)\n      setSuccess('')\n    }\n    if (result.res) {\n      setSuccess(result)\n      setTimeout(() => setRedirect(true), 1000)\n      setSubmitRes('')\n    }\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault()\n    const obj = {\n      username: values.name,\n      email: values.email,\n      password: values.pswd\n    }\n    createAcc('http://localhost:5000/createAcc', obj)\n    setValues({\n      name: '',\n      email: '',\n      pswd: ''\n    })\n  }\n\n  return (\n    <>\n      {active ? <Redirect to='/app' />\n        : (\n          <main>\n            <header>\n              <Heading>Sign Up</Heading>\n            </header>\n            <section>\n              <Form onSubmit={handleSubmit}>\n                <label htmlFor='name'>UserName :</label>\n                <Input\n                  type='text'\n                  placeholder='Enter your name'\n                  name='name' id='name' required\n                  value={values.name}\n                  onChange={handleInput}\n                />\n                <label htmlFor='email'>Email :</label>\n                <Input\n                  type='email'\n                  placeholder='Enter your email'\n                  name='email' id='email'\n                  required\n                  value={values.email}\n                  onChange={handleInput}\n                />\n                <label htmlFor='pswd'>Password :</label>\n                <Input\n                  type='password'\n                  placeholder='Enter Password'\n                  name='pswd' id='pswd'\n                  required\n                  value={values.pswd}\n                  onChange={handleInput}\n                />\n                <Button>Submit</Button>\n                {submitRes &&\n                  <Response>{submitRes.response}</Response>}\n                {success &&\n                  <>\n                    <Success>{success.res}</Success>\n                    {isRedirect && <Redirect to='/login' />}\n                  </>}\n              </Form>\n            </section>\n          </main>)}\n    </>\n  )\n}\n\nexport default SignUp\n"]},"metadata":{},"sourceType":"module"}