{"ast":null,"code":"import _regeneratorRuntime from\"/home/admi/Table/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/admi/Table/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/admi/Table/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/admi/Table/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/admi/Table/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/home/admi/Table/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject6(){var data=_taggedTemplateLiteral([\"\\ncolor: green;\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\ncolor: red;\\ngrid-area: 5/1/6/3;\\nmargin: auto;\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\npadding: 10px;\\nborder-radius: 50px; \\nborder: 1px solid grey;\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\ngrid-area: 4/1/5/3;\\nwidth: 100px;\\nmargin:auto;\\ncolor: #388f38;\\nborder: none;\\npadding: 10px;\\nborder-radius: 30px;\\nfont-weight: bold;\\nbackground-color: #ddcfcf;\\nbox-shadow: 3px 2px grey;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\nborder: 1px solid grey;\\ndisplay: grid;\\ngrid-template-columns: 150px 300px;\\ngrid-row-gap: 20px;\\npadding: 40px 20px 20px 20px;\\nwidth: 500px;\\nmargin:100px auto;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\nmargin-top: 50px;\\ntext-align: center;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState}from'react';import styled from'styled-components';import{Redirect}from'react-router-dom';var Heading=styled.h1(_templateObject());var Form=styled.form(_templateObject2());var Button=styled.button(_templateObject3());var Input=styled.input(_templateObject4());var Response=styled.p(_templateObject5());var Success=styled(Response)(_templateObject6());function ResetPswd(){var _useState=useState({email:'',pswd:'',cpswd:''}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),isErr=_useState4[0],setErr=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),success=_useState6[0],setSuccess=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isRedirect=_useState8[0],setRedirect=_useState8[1];var handleInput=function handleInput(e){e.persist();setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();resetPswd('http://localhost:5000/resetPswd',values);setValues({email:'',pswd:'',cpswd:''});};var resetPswd=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url,data){var response,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return window.fetch(url,{body:JSON.stringify(data),method:'Put',headers:{'Content-Type':'application/json'}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:result=_context.sent;if(result.err){setErr(result.err);}if(result.msg){setSuccess(result.msg);setTimeout(function(){return setRedirect(true);},1000);setErr('');}case 8:case\"end\":return _context.stop();}}},_callee);}));return function resetPswd(_x,_x2){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(Heading,null,\"Reset Password\")),/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(Form,{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email :\"),/*#__PURE__*/React.createElement(Input,{type:\"email\",placeholder:\"Enter your email\",name:\"email\",id:\"email\",required:true,value:values.email,onChange:handleInput}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"pswd\"},\"Enter Password :\"),/*#__PURE__*/React.createElement(Input,{type:\"password\",placeholder:\"Enter password\",name:\"pswd\",id:\"pswd\",required:true,value:values.pswd,onChange:handleInput}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"cpswd\"},\"Confirm Password :\"),/*#__PURE__*/React.createElement(Input,{type:\"password\",placeholder:\"Confirm Password\",name:\"cpswd\",id:\"cpswd\",required:true,value:values.cpswd,onChange:handleInput}),/*#__PURE__*/React.createElement(Button,null,\"Reset\"),isErr&&/*#__PURE__*/React.createElement(Response,null,isErr),success&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Success,null,success),isRedirect&&/*#__PURE__*/React.createElement(Redirect,{to:\"/login\"})))));}export default ResetPswd;","map":{"version":3,"sources":["/home/admi/Table/src/ResetPswd.js"],"names":["React","useState","styled","Redirect","Heading","h1","Form","form","Button","button","Input","input","Response","p","Success","ResetPswd","email","pswd","cpswd","values","setValues","isErr","setErr","success","setSuccess","isRedirect","setRedirect","handleInput","e","persist","target","name","value","handleSubmit","preventDefault","resetPswd","url","data","window","fetch","body","JSON","stringify","method","headers","response","json","result","err","msg","setTimeout"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { Redirect } from 'react-router-dom'\n\nconst Heading = styled.h1`\nmargin-top: 50px;\ntext-align: center;\n`\nconst Form = styled.form`\nborder: 1px solid grey;\ndisplay: grid;\ngrid-template-columns: 150px 300px;\ngrid-row-gap: 20px;\npadding: 40px 20px 20px 20px;\nwidth: 500px;\nmargin:100px auto;\n`\nconst Button = styled.button`\ngrid-area: 4/1/5/3;\nwidth: 100px;\nmargin:auto;\ncolor: #388f38;\nborder: none;\npadding: 10px;\nborder-radius: 30px;\nfont-weight: bold;\nbackground-color: #ddcfcf;\nbox-shadow: 3px 2px grey;\n`\nconst Input = styled.input`\npadding: 10px;\nborder-radius: 50px; \nborder: 1px solid grey;\n`\nconst Response = styled.p`\ncolor: red;\ngrid-area: 5/1/6/3;\nmargin: auto;\n`\nconst Success = styled(Response)`\ncolor: green;\n`\n\nfunction ResetPswd () {\n  const [values, setValues] = useState({\n    email: '',\n    pswd: '',\n    cpswd: ''\n  })\n  const [isErr, setErr] = useState('')\n  const [success, setSuccess] = useState('')\n  const [isRedirect, setRedirect] = useState(false)\n\n  const handleInput = e => {\n    e.persist()\n    setValues({ ...values, [e.target.name]: e.target.value })\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault()\n    resetPswd('http://localhost:5000/resetPswd', values)\n    setValues({\n      email: '',\n      pswd: '',\n      cpswd: ''\n    })\n  }\n\n  const resetPswd = async (url, data) => {\n    const response = await window.fetch(url, {\n      body: JSON.stringify(data),\n      method: 'Put',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n    const result = await response.json()\n    if (result.err) {\n      setErr(result.err)\n    }\n    if (result.msg) {\n      setSuccess(result.msg)\n      setTimeout(() => setRedirect(true), 1000)\n      setErr('')\n    }\n  }\n\n  return (\n    <main>\n      <header>\n        <Heading>Reset Password</Heading>\n      </header>\n      <section>\n        <Form onSubmit={handleSubmit}>\n          <label htmlFor='email'>Email :</label>\n          <Input\n            type='email'\n            placeholder='Enter your email'\n            name='email' id='email'\n            required\n            value={values.email}\n            onChange={handleInput}\n          />\n          <label htmlFor='pswd'>Enter Password :</label>\n          <Input\n            type='password'\n            placeholder='Enter password'\n            name='pswd' id='pswd'\n            required\n            value={values.pswd}\n            onChange={handleInput}\n          />\n          <label htmlFor='cpswd'>Confirm Password :</label>\n          <Input\n            type='password'\n            placeholder='Confirm Password'\n            name='cpswd' id='cpswd'\n            required\n            value={values.cpswd}\n            onChange={handleInput}\n          />\n          <Button>Reset</Button>\n          {isErr &&\n            <Response>{isErr}</Response>}\n          {success &&\n            <>\n              <Success>{success}</Success>\n              {isRedirect && <Redirect to='/login' />}\n\n            </>}\n        </Form>\n      </section>\n    </main>\n  )\n}\n\nexport default ResetPswd\n"]},"metadata":{},"sourceType":"module"}