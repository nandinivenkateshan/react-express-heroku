{"ast":null,"code":"var _jsxFileName = \"/home/admi/Table/src/SignUp.js\";\nimport React, { useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport styled from 'styled-components';\nconst Heading = styled.h1`\nmargin-top: 50px;\ntext-align: center;\n`;\nconst Form = styled.form`\nborder: 1px solid grey;\ndisplay: grid;\ngrid-template-columns: 150px 300px;\ngrid-row-gap: 20px;\npadding: 20px;\nwidth: 500px;\nmargin:100px auto;\n`;\nconst Button = styled.button`\ngrid-area: 4/1/5/3;\nwidth: 100px;\nmargin:auto;\ncolor: #388f38;\nborder: none;\npadding: 10px;\nborder-radius: 30px;\nfont-weight: bold;\nbackground-color: #ddcfcf;\nbox-shadow: 3px 2px grey;\n`;\nconst Input = styled.input`\npadding: 10px;\nborder-radius: 50px; \nborder: 1px solid grey;\n`;\nconst Response = styled.p`\ncolor: red;\ngrid-area: 5/1/6/3;\nmargin: auto;\n`;\nconst Success = styled(Response)`\ncolor: green;\n`;\n\nfunction SignUp() {\n  const isLoggedIn = window.localStorage.getItem('session');\n  let active;\n  if (isLoggedIn) active = true;\n  const [values, setValues] = useState({\n    name: '',\n    email: '',\n    pswd: ''\n  });\n  const [submitRes, setSubmitRes] = useState('');\n  const [success, setSuccess] = useState('');\n  const [isRedirect, setRedirect] = useState(false);\n\n  const handleInput = e => {\n    e.persist();\n    setSubmitRes('');\n    setValues({ ...values,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const createAcc = async (url, data) => {\n    const response = await window.fetch(url, {\n      method: 'Post',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    const result = await response.json();\n\n    if (result.response) {\n      setSubmitRes(result);\n      setSuccess('');\n    }\n\n    if (result.res) {\n      setSuccess(result);\n      setTimeout(() => setRedirect(true), 1000);\n      setSubmitRes('');\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const obj = {\n      username: values.name,\n      email: values.email,\n      password: values.pswd\n    };\n    createAcc('http://localhost:5000/createAcc', obj);\n    setValues({\n      name: '',\n      email: '',\n      pswd: ''\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, active ? /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/app\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }) : /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Heading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }, \"Sign Up\")), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, \"UserName :\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Enter your name\",\n    name: \"name\",\n    id: \"name\",\n    required: true,\n    value: values.name,\n    onChange: handleInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, \"Email :\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"email\",\n    placeholder: \"Enter your email\",\n    name: \"email\",\n    id: \"email\",\n    required: true,\n    value: values.email,\n    onChange: handleInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"pswd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, \"Password :\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    placeholder: \"Enter Password\",\n    name: \"pswd\",\n    id: \"pswd\",\n    required: true,\n    value: values.pswd,\n    onChange: handleInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, \"Submit\"), submitRes && /*#__PURE__*/React.createElement(Response, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 19\n    }\n  }, submitRes.response), success && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Success, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }\n  }, success.res), isRedirect && /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 36\n    }\n  }))))));\n}\n\nexport default SignUp;","map":{"version":3,"sources":["/home/admi/Table/src/SignUp.js"],"names":["React","useState","Redirect","styled","Heading","h1","Form","form","Button","button","Input","input","Response","p","Success","SignUp","isLoggedIn","window","localStorage","getItem","active","values","setValues","name","email","pswd","submitRes","setSubmitRes","success","setSuccess","isRedirect","setRedirect","handleInput","e","persist","target","value","createAcc","url","data","response","fetch","method","body","JSON","stringify","headers","result","json","res","setTimeout","handleSubmit","preventDefault","obj","username","password"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport styled from 'styled-components'\n\nconst Heading = styled.h1`\nmargin-top: 50px;\ntext-align: center;\n`\nconst Form = styled.form`\nborder: 1px solid grey;\ndisplay: grid;\ngrid-template-columns: 150px 300px;\ngrid-row-gap: 20px;\npadding: 20px;\nwidth: 500px;\nmargin:100px auto;\n`\nconst Button = styled.button`\ngrid-area: 4/1/5/3;\nwidth: 100px;\nmargin:auto;\ncolor: #388f38;\nborder: none;\npadding: 10px;\nborder-radius: 30px;\nfont-weight: bold;\nbackground-color: #ddcfcf;\nbox-shadow: 3px 2px grey;\n`\nconst Input = styled.input`\npadding: 10px;\nborder-radius: 50px; \nborder: 1px solid grey;\n`\nconst Response = styled.p`\ncolor: red;\ngrid-area: 5/1/6/3;\nmargin: auto;\n`\nconst Success = styled(Response)`\ncolor: green;\n`\nfunction SignUp () {\n  const isLoggedIn = window.localStorage.getItem('session')\n  let active\n  if (isLoggedIn) active = true\n\n  const [values, setValues] = useState({\n    name: '',\n    email: '',\n    pswd: ''\n  })\n  const [submitRes, setSubmitRes] = useState('')\n  const [success, setSuccess] = useState('')\n  const [isRedirect, setRedirect] = useState(false)\n\n  const handleInput = e => {\n    e.persist()\n    setSubmitRes('')\n    setValues({ ...values, [e.target.name]: e.target.value })\n  }\n\n  const createAcc = async (url, data) => {\n    const response = await window.fetch(url, {\n      method: 'Post',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n    const result = await response.json()\n    if (result.response) {\n      setSubmitRes(result)\n      setSuccess('')\n    }\n    if (result.res) {\n      setSuccess(result)\n      setTimeout(() => setRedirect(true), 1000)\n      setSubmitRes('')\n    }\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault()\n    const obj = {\n      username: values.name,\n      email: values.email,\n      password: values.pswd\n    }\n    createAcc('http://localhost:5000/createAcc', obj)\n    setValues({\n      name: '',\n      email: '',\n      pswd: ''\n    })\n  }\n\n  return (\n    <>\n      {active ? <Redirect to='/app' />\n        : (\n          <main>\n            <header>\n              <Heading>Sign Up</Heading>\n            </header>\n            <section>\n              <Form onSubmit={handleSubmit}>\n                <label htmlFor='name'>UserName :</label>\n                <Input\n                  type='text'\n                  placeholder='Enter your name'\n                  name='name' id='name' required\n                  value={values.name}\n                  onChange={handleInput}\n                />\n                <label htmlFor='email'>Email :</label>\n                <Input\n                  type='email'\n                  placeholder='Enter your email'\n                  name='email' id='email'\n                  required\n                  value={values.email}\n                  onChange={handleInput}\n                />\n                <label htmlFor='pswd'>Password :</label>\n                <Input\n                  type='password'\n                  placeholder='Enter Password'\n                  name='pswd' id='pswd'\n                  required\n                  value={values.pswd}\n                  onChange={handleInput}\n                />\n                <Button>Submit</Button>\n                {submitRes &&\n                  <Response>{submitRes.response}</Response>}\n                {success &&\n                  <>\n                    <Success>{success.res}</Success>\n                    {isRedirect && <Redirect to='/login' />}\n                  </>}\n              </Form>\n            </section>\n          </main>)}\n    </>\n  )\n}\n\nexport default SignUp\n"]},"metadata":{},"sourceType":"module"}